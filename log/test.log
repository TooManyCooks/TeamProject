  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "patients"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "patients" ("doctor_id", "name", "email", "content", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyText', '2015-12-12 21:44:45', '2015-12-12 21:44:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "patients" ("doctor_id", "name", "email", "content", "created_at", "updated_at", "id") VALUES (1, 'MyString', 'MyString', 'MyText', '2015-12-12 21:44:45', '2015-12-12 21:44:45', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "doctors"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "doctors" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-12 21:44:45', '2015-12-12 21:44:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "doctors" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-12 21:44:45', '2015-12-12 21:44:45', 298486374)
  [1m[36m (118.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
AccessControllerTest: test_should_get_index
-------------------------------------------
Processing by AccessController#index as HTML
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
AccessControllerTest: test_should_get_login
-------------------------------------------
Processing by AccessController#login as HTML
  Rendered access/login.html.erb within layouts/application (4.4ms)
Completed 200 OK in 2060ms (Views: 2059.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
DoctorsControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mDoctor Load (0.3ms)[0m  [1mSELECT  "doctors".* FROM "doctors" WHERE "doctors"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by DoctorsController#index as HTML
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
DoctorsControllerTest: test_should_get_new
------------------------------------------
  [1m[35mDoctor Load (0.2ms)[0m  SELECT  "doctors".* FROM "doctors" WHERE "doctors"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by DoctorsController#new as HTML
  Rendered doctors/_form.html.erb (34.3ms)
  Rendered doctors/new.html.erb within layouts/application (41.9ms)
Completed 200 OK in 54ms (Views: 53.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
DoctorsControllerTest: test_should_update_doctor
------------------------------------------------
  [1m[36mDoctor Load (1.0ms)[0m  [1mSELECT  "doctors".* FROM "doctors" WHERE "doctors"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by DoctorsController#update as HTML
  Parameters: {"doctor"=>{"email"=>"MyString", "name"=>"MyString"}, "id"=>"980190962"}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
DoctorsControllerTest: test_should_get_edit
-------------------------------------------
  [1m[35mDoctor Load (0.2ms)[0m  SELECT  "doctors".* FROM "doctors" WHERE "doctors"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by DoctorsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
DoctorsControllerTest: test_should_show_doctor
----------------------------------------------
  [1m[36mDoctor Load (0.1ms)[0m  [1mSELECT  "doctors".* FROM "doctors" WHERE "doctors"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by DoctorsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------
DoctorsControllerTest: test_should_destroy_doctor
-------------------------------------------------
  [1m[35mDoctor Load (0.1ms)[0m  SELECT  "doctors".* FROM "doctors" WHERE "doctors"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "doctors"[0m
Processing by DoctorsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "doctors"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
DoctorsControllerTest: test_should_create_doctor
------------------------------------------------
  [1m[36mDoctor Load (0.1ms)[0m  [1mSELECT  "doctors".* FROM "doctors" WHERE "doctors"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "doctors"
Processing by DoctorsController#create as HTML
  Parameters: {"doctor"=>{"email"=>"MyString", "name"=>"MyString"}}
Unpermitted parameter: email
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered doctors/_form.html.erb (5.4ms)
  Rendered doctors/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 20ms (Views: 15.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "doctors"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
PatientsControllerTest: test_should_destroy_patient
---------------------------------------------------
  [1m[35mPatient Load (1.0ms)[0m  SELECT  "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "patients"[0m
Processing by PatientsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "patients"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
PatientsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PatientsController#edit as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PatientsControllerTest: test_should_create_patient
--------------------------------------------------
  [1m[35mPatient Load (0.2ms)[0m  SELECT  "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "patients"[0m
Processing by PatientsController#create as HTML
  Parameters: {"patient"=>{"content"=>"MyText", "doctor_id"=>"1", "email"=>"MyString", "name"=>"MyString"}}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "patients"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
------------------------------------------------
PatientsControllerTest: test_should_show_patient
------------------------------------------------
  [1m[36mPatient Load (0.2ms)[0m  [1mSELECT  "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PatientsController#show as HTML
  Parameters: {"id"=>"980190962"}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
PatientsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mPatient Load (0.7ms)[0m  SELECT  "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PatientsController#index as HTML
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
PatientsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mPatient Load (0.1ms)[0m  [1mSELECT  "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by PatientsController#new as HTML
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
PatientsControllerTest: test_should_update_patient
--------------------------------------------------
  [1m[35mPatient Load (0.1ms)[0m  SELECT  "patients".* FROM "patients" WHERE "patients"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by PatientsController#update as HTML
  Parameters: {"patient"=>{"content"=>"MyText", "doctor_id"=>"1", "email"=>"MyString", "name"=>"MyString"}, "id"=>"980190962"}
Redirected to http://test.host/access/login
Filter chain halted as :confirm_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (130.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (154.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateDoctors (20151029161848)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "doctors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20151029161848"]]
  [1m[35m (115.1ms)[0m  commit transaction
Migrating to CreatePatients (20151029162020)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "patients" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "doctor_id" integer, "name" varchar, "email" varchar, "content" text, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20151029162020"]]
  [1m[35m (129.2ms)[0m  commit transaction
Migrating to AddDoctorPassword (20151030154614)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "doctors" ADD "password" varchar
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20151030154614"]]
  [1m[35m (129.2ms)[0m  commit transaction
Migrating to AddPasswordDigest (20151103215503)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TEMPORARY TABLE "adoctors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "doctors"[0m
  [1m[35m (0.4ms)[0m  DROP TABLE "doctors"
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "doctors" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "adoctors"
  [1m[36m (0.6ms)[0m  [1mDROP TABLE "adoctors"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20151103215503"]]
  [1m[36m (136.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateSurvey (20151115163535)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "survey_surveys" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "attempts_number" integer DEFAULT 0, "finished" boolean DEFAULT 'f', "active" boolean DEFAULT 'f', "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "survey_questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "survey_id" integer, "text" varchar, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "survey_options" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "question_id" integer, "weight" integer DEFAULT 0, "text" varchar, "correct" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "survey_attempts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "participant_id" integer, "participant_type" varchar, "survey_id" integer, "winner" boolean, "score" integer) 
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "survey_answers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "attempt_id" integer, "question_id" integer, "option_id" integer, "correct" boolean, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20151115163535"]]
  [1m[36m (131.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateRapidfireQuestionGroups (20151115200634)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "rapidfire_question_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20151115200634"]]
  [1m[36m (127.4ms)[0m  [1mcommit transaction[0m
Migrating to CreateRapidfireQuestions (20151115200635)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "rapidfire_questions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "question_group_id" integer, "type" varchar, "question_text" varchar, "position" integer, "answer_options" text, "validation_rules" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_rapidfire_questions_on_question_group_id" ON "rapidfire_questions" ("question_group_id")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20151115200635"]]
  [1m[35m (138.9ms)[0m  commit transaction
Migrating to CreateRapidfireAnswerGroups (20151115200636)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "rapidfire_answer_groups" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "question_group_id" integer, "user_id" integer, "user_type" varchar, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_rapidfire_answer_groups_on_question_group_id" ON "rapidfire_answer_groups" ("question_group_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_rapidfire_answer_groups_on_question_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_rapidfire_answer_groups_on_question_group_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_rapidfire_answer_groups_on_user_id_and_user_type" ON "rapidfire_answer_groups" ("user_id", "user_type")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20151115200636"]]
  [1m[36m (137.5ms)[0m  [1mcommit transaction[0m
Migrating to CreateRapidfireAnswers (20151115200637)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "rapidfire_answers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "answer_group_id" integer, "question_id" integer, "answer_text" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "index_rapidfire_answers_on_answer_group_id" ON "rapidfire_answers" ("answer_group_id")
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_rapidfire_answers_on_answer_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_rapidfire_answers_on_answer_group_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_rapidfire_answers_on_question_id" ON "rapidfire_answers" ("question_id")
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20151115200637"]]
  [1m[35m (127.4ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_rapidfire_answer_groups_on_user_id_and_user_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_rapidfire_answer_groups_on_user_id_and_user_type' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_rapidfire_answer_groups_on_question_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_rapidfire_answer_groups_on_question_group_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_rapidfire_answers_on_question_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_rapidfire_answers_on_question_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_rapidfire_answers_on_answer_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_rapidfire_answers_on_answer_group_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_rapidfire_questions_on_question_group_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_rapidfire_questions_on_question_group_id' AND type='index'

